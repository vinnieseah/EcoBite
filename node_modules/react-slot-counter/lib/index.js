'use client';
"use strict";var e=require("react"),n=function(){return n=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var u in n=arguments[t])Object.prototype.hasOwnProperty.call(n,u)&&(e[u]=n[u]);return e},n.apply(this,arguments)};var t=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return e.filter(Boolean).join(" ")},r=function(e,n){for(var t=[],r=e;r<n;r+=1)t.push(r);return t},u=function(e,n){for(var t=[],r=e;r!==n;)t.push(r),10===(r+=1)&&(r=0);return t},i=function(e,n){var t=Math.random()*(n-e);return Math.floor(t+e)},a=function(e){for(var n,t=function(e,n,t){if(t||2===arguments.length)for(var r,u=0,i=n.length;u<i;u++)!r&&u in n||(r||(r=Array.prototype.slice.call(n,0,u)),r[u]=n[u]);return e.concat(r||Array.prototype.slice.call(n))}([],e,!0),r=t.length-1;r>0;r-=1){var u=Math.floor(Math.random()*(r+1));n=[t[u],t[r]],t[r]=n[0],t[u]=n[1]}return t},o=function(e){return"number"==typeof e?e:(Array.isArray(e)?e.join(""):e).replace(/[,.]/g,"")},l=function(e){return"object"!=typeof e&&!Number.isNaN(o(e))},s=function(e){return"object"==typeof e};var c="index-module_slot_wrap__ZT-DX",f="index-module_slot__DpPgW",d="index-module_separator__7GhtE",m="index-module_numbers__sqlqm",v="index-module_num__j6XH3";!function(e,n){void 0===n&&(n={});var t=n.insertAt;if(e&&"undefined"!=typeof document){var r=document.head||document.getElementsByTagName("head")[0],u=document.createElement("style");u.type="text/css","top"===t&&r.firstChild?r.insertBefore(u,r.firstChild):r.appendChild(u),u.styleSheet?u.styleSheet.cssText=e:u.appendChild(document.createTextNode(e))}}(".index-module_slot_wrap__ZT-DX {\n  display: inline-block;\n  white-space: nowrap;\n}\n\n.index-module_slot__DpPgW {\n  display: inline-block;\n  overflow: hidden;\n  text-align: center;\n  vertical-align: middle;\n  will-change: transform;\n}\n\n.index-module_separator__7GhtE {\n  display: inline-block;\n  vertical-align: middle;\n  text-align: center;\n}\n\n.index-module_numbers__sqlqm {\n  display: block;\n}\n\n.index-module_num__j6XH3 {\n  display: block;\n}");var h="undefined"!=typeof window?e.useLayoutEffect:e.useEffect;var p=e.memo((function(r){var u,i,o=r.isNew,l=r.charClassName,s=r.numbersRef,c=r.active,d=r.isChanged,p=r.effectiveDuration,g=r.delay,y=r.value,b=r.startValue,C=r.disableStartValue,N=r.dummyList,S=r.hasSequentialDummyList,_=r.hasInfiniteList,E=r.valueClassName,x=r.numberSlotClassName,A=r.numberClassName,M=r.reverse,R=r.sequentialAnimationMode,w=r.useMonospaceWidth,k=r.maxNumberWidth,j=r.onFontHeightChange,T=e.useState(!1),D=T[0],q=T[1],O=e.useState(y),I=O[0],L=O[1],P=e.useRef(),V=e.useRef(y),W=e.useRef(null),B=e.useState(0),F=B[0],H=B[1],X=e.useState(S?N:a(N)),Y=X[0],z=X[1],G=e.useState(!1),Z=G[0],J=G[1],U=F*(N.length+1);h((function(){J(!0)}),[]),h((function(){var e,n;H(null!==(n=null===(e=W.current)||void 0===e?void 0:e.getBoundingClientRect().height)&&void 0!==n?n:0)}),[Z]),e.useEffect((function(){c?requestAnimationFrame((function(){q(c)})):q(c)}),[c]),e.useEffect((function(){var e=W.current;if(F&&e&&"undefined"!=typeof ResizeObserver){var n=new ResizeObserver((function(e){var n=e[0].contentRect.height;F!=n&&(null==j||j(n))}));return n.observe(e),function(){n.disconnect()}}}),[F,j]),e.useMemo((function(){C&&(P.current=V.current)}),[C]),e.useEffect((function(){D&&(P.current=V.current,V.current=y,setTimeout((function(){return L(y)}),R?0:1e3*p*1.3/N.length+1e3*g))}),[D,y,p,g,N.length,R]),e.useEffect((function(){z(S?N:a(N))}),[y,N,S]);var K=function(){return Y.map((function(n,r){return e.createElement("span",{key:r,className:t(v,A),"aria-hidden":"true"},n)}))},Q=M?I:null!=b?b:I;R&&(Q=M?I:null!==(u=null!=b?b:P.current)&&void 0!==u?u:I,R&&o&&!M&&(Q=""));var $=M&&null!=b?b:I;return R&&($=M&&null!==(i=null!=b?b:P.current)&&void 0!==i?i:I),e.createElement("span",{className:t(f,l),style:{display:"inline-block",width:Z&&w?k:void 0,height:Z?F:void 0}},e.createElement("span",{ref:s,className:t(m,x),style:n({transition:"none",transform:M?"translateY(-".concat(U,"px)"):"translateY(0px)"},D&&d&&{transform:M?"translateY(0px)":"translateY(-".concat(U,"px)"),transition:"transform ".concat(p,"s ").concat(g,"s ease-in-out")})},Z?e.createElement(e.Fragment,null,e.createElement("span",{className:t(v,A),"aria-hidden":"true",style:{height:F}},Q),K(),e.createElement("span",{className:t(v,A,E),ref:W},$),_?K():null):e.createElement("span",{className:t(v,A),"aria-hidden":"true"},null!=b?b:I)))}));var g=[",","."," "];var y=e.memo(e.forwardRef((function(n,a){var f,m,v,y,b,C,N,S,_,E,x=n.value,A=n.startValue,M=n.startValueOnce,R=void 0!==M&&M,w=n.duration,k=void 0===w?.7:w,j=n.dummyCharacters,T=n.dummyCharacterCount,D=void 0===T?6:T,q=n.autoAnimationStart,O=void 0===q||q,I=n.containerClassName,L=n.charClassName,P=n.separatorClassName,V=n.valueClassName,W=n.numberSlotClassName,B=n.numberClassName,F=n.animateUnchanged,H=void 0!==F&&F,X=n.hasInfiniteList,Y=void 0!==X&&X,z=n.sequentialAnimationMode,G=void 0!==z&&z,Z=n.useMonospaceWidth,J=void 0!==Z&&Z,U=n.direction,K=n.debounceDelay,Q=n.animateOnVisible,$=function(n,t){var r=e.useState(n),u=r[0],i=r[1];return e.useEffect((function(){if(0===t)return i(n);var e=setTimeout((function(){i(n)}),t);return function(){clearTimeout(e)}}),[n,t]),u}(x,null!=K?K:0),ee=e.useMemo((function(){return function(e){return Array.isArray(e)&&s(e[0])}($)?"":"object"==typeof $?JSON.stringify($):$.toString()}),[$]),ne=e.useState(!1),te=ne[0],re=ne[1],ue=e.useRef(),ie=e.useRef(null),ae=e.useRef(null),oe=e.useRef(A),le=e.useMemo((function(){return"boolean"==typeof Q?Q:"object"==typeof Q||void 0}),[Q]),se=e.useMemo((function(){return"object"==typeof Q?Q.rootMargin:void 0}),[Q]),ce=e.useMemo((function(){return"object"==typeof Q?Q.triggerOnce:void 0}),[Q]),fe=e.useRef(!0),de=!le&&O,me=e.useRef(null==A||de?$:A),ve=e.useRef(A),he=e.useRef(0),pe=e.useRef(0),ge=e.useState([]),ye=ge[0],be=ge[1],Ce=e.useRef(),Ne=e.useState(0),Se=Ne[0],_e=Ne[1],Ee=e.useState(),xe=Ee[0],Ae=Ee[1],Me=e.useRef(!1),Re=null!=A&&(!R||he.current<1),we=null!==(m=null===(f=ue.current)||void 0===f?void 0:f.dummyCharacterCount)&&void 0!==m?m:D,ke=null!==(y=null===(v=ue.current)||void 0===v?void 0:v.duration)&&void 0!==y?y:k,je=e.useCallback((function(){var e=ae.current;if(e){var n=r(0,10).map((function(n){var t=document.createElement("span");t.className=null!=V?V:"",t.style.position="absolute",t.style.top="0",t.style.left="-9999px",t.style.visibility="hidden",t.textContent=n.toString(),e.appendChild(t);var r=t.getBoundingClientRect().width;return e.removeChild(t),r})),t=Math.max.apply(Math,n);Ae(t)}}),[V]);h((function(){var e;je(),null===(e=document.fonts)||void 0===e||e.ready.then((function(){je()}))}),[]),e.useEffect((function(){be(r(0,we-1).map((function(e){if(!j)return i(0,10);var n=e>=j.length?i(0,j.length):e;return j[n]})))}),[j,we]),me.current!==$&&Me.current&&pe.current>0&&(ve.current=me.current,me.current=$);var Te=Array.isArray(ve.current)?ve.current:null!==(C=null===(b=ve.current)||void 0===b?void 0:b.toString().split(""))&&void 0!==C?C:[],De=Array.isArray(me.current)?me.current:null!==(S=null===(N=me.current)||void 0===N?void 0:N.toString().split(""))&&void 0!==S?S:[],qe=Array.isArray(oe.current)?oe.current:null!==(E=null===(_=oe.current)||void 0===_?void 0:_.toString().split(""))&&void 0!==E?E:[],Oe=e.useMemo((function(){return Array.isArray($)?$:null==$?void 0:$.toString().split("")}),[$]),Ie=e.useMemo((function(){return Array.isArray(A)?A:null==A?void 0:A.toString().split("")}),[A]),Le=Te.length!==De.length,Pe=[];De.forEach((function(e,n){var t=De.length-n-1,r=Re?qe:Te;(De[t]!==r[t]||Le||H)&&Pe.push(t)})),Pe.reverse();var Ve=e.useMemo((function(){return Math.min(.1,ke/Oe.length)}),[ke,Oe.length]),We=e.useCallback((function(){Ce.current&&clearTimeout(Ce.current),re(!1),he.current=pe.current,he.current+=1,Ce.current=setTimeout((function(){pe.current+=1,re(!0)}),20)}),[]),Be=e.useCallback((function(e){var n=Re?A:ve.current;if(null==n||!l(n)||!l($))return[];var t=n.toString().length,r=$.toString().length,i=t<r,a=Math.abs(t-r),s=Number(o(n.toString())),c=Number(o($.toString())),f=Number(s.toString()[i?-a+e:a+e]||0),d=Number(c.toString()[e]||0);return d===f?[]:s<c?u((f+1)%10,d):u((d+1)%10,f)}),[Re,$,A]),Fe=e.useCallback((function(){_e((function(e){return e+1})),je()}),[je]);e.useEffect((function(){(Me.current||null!=ve.current)&&(Me.current||null==oe.current)&&(Me.current||de)&&We()}),[ee,We,de]),e.useEffect((function(){de&&We()}),[de,We]),e.useEffect((function(){requestAnimationFrame((function(){Me.current=!0}))}),[]),e.useImperativeHandle(a,(function(){return{startAnimation:Je,refreshStyles:Fe}}));var He=null==A||de||0!==he.current?Oe:Ie||[],Xe=((null==Ie?void 0:Ie.length)||0)-He.length,Ye=function(n){var t,r=e.useRef(n),u=e.useRef(r.current),i=n.join(","),a=null===(t=r.current)||void 0===t?void 0:t.join(",");return e.useEffect((function(){a!==i&&(u.current=(null==a?void 0:a.split(","))||[],r.current=i.split(","))}),[i,a]),{getPrevDependencies:e.useCallback((function(){return u.current}),[]),setPrevDependenciesToSameAsCurrent:e.useCallback((function(){u.current=r.current}),[])}}(He),ze=Ye.getPrevDependencies,Ge=Ye.setPrevDependenciesToSameAsCurrent,Ze=He.length-ze().length,Je=e.useCallback((function(e){null==A||R||(ve.current=void 0),ue.current=e,We(),Ge()}),[A,R,We,Ge]),Ue=e.useMemo((function(){return e=function(){Fe()},n=0,function(){for(var r=[],u=0;u<arguments.length;u++)r[u]=arguments[u];clearTimeout(t),t=setTimeout((function(){e.apply(void 0,r)}),n)};var e,n,t}),[Fe]);e.useEffect((function(){if(le&&ie.current){var e=new IntersectionObserver((function(t){t[0].isIntersecting&&fe.current&&(Je(),fe.current=!1,ce&&(e.disconnect(),n.disconnect()))}),{rootMargin:se,threshold:1}),n=new IntersectionObserver((function(e){e[0].isIntersecting||(fe.current=!0)}),{threshold:0});return e.observe(ie.current),n.observe(ie.current),function(){e.disconnect(),n.disconnect()}}}),[le,se,ce,Je]);var Ke=-1;return e.createElement("span",{key:Se,ref:ie,className:t(I,c)},He.map((function(n,r){var u,i,a=Pe.includes(r),c=(a?Pe.indexOf(r):0)*Ve,f=ve.current,m=null!=A&&!!R&&he.current>1,v=null!=$&&null!=f&&l($)&&l(f)&&o($)<o(f);if((null===(u=ue.current)||void 0===u?void 0:u.direction)&&(v="top-down"===(null===(i=ue.current)||void 0===i?void 0:i.direction)),U&&(v="top-down"===U),!s(n)&&g.includes(n))return e.createElement("span",{key:De.length-r-1,className:t(d,P)},n);var h=G&&(!de||pe.current>1);return Ke+=1,e.createElement(p,{key:He.length-r-1,index:r,isNew:Ze>0&&r<Ze,maxNumberWidth:xe,numbersRef:ae,active:te,isChanged:a,charClassName:L,effectiveDuration:ke,delay:c,value:n,startValue:m||null==Ie?void 0:Ie[r+Xe],disableStartValue:m,dummyList:h?Be(Ke):ye,hasSequentialDummyList:h,hasInfiniteList:Y,valueClassName:V,numberSlotClassName:W,numberClassName:B,reverse:v,sequentialAnimationMode:G,useMonospaceWidth:J,onFontHeightChange:Ue})})))})));module.exports=y;
//# sourceMappingURL=index.js.map
